<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inicio de Sesión</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    /* Animación de entrada para el formulario */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .fade-in {
      animation: fadeIn 0.8s ease-out;
    }

    /* Animación de fondo */
    @keyframes moveGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .animated-bg {
      background: linear-gradient(-45deg, #e5e7eb, #d1d5db, #6b7280, #374151);
      background-size: 400% 400%;
      animation: moveGradient 15s ease infinite;
    }
  </style>
</head>
<body class="animated-bg text-gray-900 flex justify-center items-center min-h-screen">

<div class="max-w-screen-lg w-full m-4 sm:m-8 bg-white shadow-2xl rounded-3xl flex flex-col lg:flex-row overflow-hidden">

  <div class="lg:w-1/2 p-6 sm:p-12 flex flex-col justify-center items-center fade-in">
    <div class="w-full flex flex-col items-center">
      <h1 class="text-3xl sm:text-4xl font-extrabold text-center text-gray-800">
        Bienvenido
      </h1>
      <p class="mt-2 text-center text-gray-600">
        Inicia sesión para continuar
      </p>
    </div>

    <div class="w-full flex-1 mt-8">
      <div class="mx-auto max-w-xs">
        <form th:action="@{/login}" method="post" class="space-y-6">
          <input class="w-full px-5 py-3 rounded-lg font-medium bg-gray-100 border-2 border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-indigo-500 focus:bg-white transition duration-300"
                 type="email" name="username" required placeholder="Correo electrónico" />
          <input class="w-full px-5 py-3 rounded-lg font-medium bg-gray-100 border-2 border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-indigo-500 focus:bg-white transition duration-300"
                 type="password" name="password" required placeholder="Contraseña" />

          <button type="submit" class="mt-6 tracking-wide font-semibold bg-indigo-600 text-gray-100 w-full py-3 rounded-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none transform hover:scale-105">
            <svg class="w-6 h-6 -ml-2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
              <path d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2" />
              <circle cx="8.5" cy="7" r="4" />
              <path d="M20 8v6M23 11h-6" />
            </svg>
            <span class="ml-3">
              Ingresar
            </span>
          </button>
        </form>
        <p class="text-center text-sm text-gray-600 mt-6">
          ¿No tienes cuenta?
          <a th:href="@{/register}" class="text-indigo-600 hover:text-indigo-800 font-semibold transition duration-300">Regístrate aquí</a>
        </p>
      </div>
    </div>
  </div>

  <div class="flex-1 bg-indigo-50 hidden lg:flex items-center justify-center p-10 relative">
    <div class="w-full h-full bg-contain bg-center bg-no-repeat opacity-90 animate-pulse"
         style="background-image: url('https://storage.googleapis.com/devitary-image-host.appspot.com/15848031292911696601-undraw_designer_life_w96d.svg');">
    </div>
  </div>
</div>

<script th:if="${param.logout}">
  Swal.fire({
    icon: 'success',
    title: 'Sesión cerrada',
    text: 'Has cerrado sesión correctamente.',
    confirmButtonText: 'OK',
    confirmButtonColor: '#2563eb',
    scrollbarPadding: false,
    heightAuto: false
  });
</script>

<script th:if="${success}">
  Swal.fire({
    icon: 'success',
    title: '¡Registro exitoso!',
    text: 'Ya puedes iniciar sesión con tus credenciales.',
    confirmButtonText: 'Aceptar',
    confirmButtonColor: '#2563eb',
    scrollbarPadding: false,
    heightAuto: false
  });
</script>

<script th:if="${param.error}">
  Swal.fire({
    icon: 'error',
    title: 'Error de inicio de sesión',
    text: 'Usuario o contraseña incorrectos.',
    confirmButtonText: 'Reintentar',
    confirmButtonColor: '#2563eb',
    scrollbarPadding: false,
    heightAuto: false
  });
</script>

</body>
</html>